import{r as d,o as c,c as r,a as s,F as m,E as p,n,t as _,b as l}from"./vendor-eIbdth_h.js";import{_ as h}from"./_plugin-vue_export-helper-x3n3nnut.js";const b={data(){return{mills:[],params:{mill_id:12,type:"today"},scores:null,values:[],fosnir:0}},async mounted(){this.getMills(),this.loadData(),this.fosnirScore(),await setInterval(()=>{this.loadData(),this.fosnirScore()},5e3)},methods:{async loadData(){this.values={3:0,4:0,5:0},this.scores=await this.$http.get("/mill/performance",{params:this.params}).then(o=>o.data.data),this.scores.forEach(o=>{let e=o.scount>0?o.stotal/o.scount:0;this.values[o.device_id]=parseInt(e)})},async getMills(){this.mills=await this.$http.get("/fossnir/mills").then(o=>o.data.data)},async fosnirScore(){this.fosnir=0;let o=await this.$http.get("/fossnir/score-mill",{params:this.params}).then(e=>e.data.data.score);this.fosnir=parseInt(o)}},computed:{},watch:{params:{handler(o,e){this.loadData()},deep:!0}}},v={class:"mt-3"},u={class:"row g-0"},y=["onClick","disabled"],f={class:"col-1 d-grid gap-1 p-1"},g={class:"col-1 d-grid gap-1 p-1"},S={class:"col-1 d-grid gap-1 p-1"},E={class:"row g-2 mt-3"},T={class:"col-2 mb-4"},I={class:"col-2 mb-4"},R={class:"col-2 mb-4"},k={class:"col-2 d-grid gap-2 mb-4"},C={class:"col-2 mb-4"},D={class:"col-2 mb-4"},L={class:"col-2 mb-4"},w={class:"col-2 mb-4"},x={class:"col-2 mb-4"},N={class:"col-2 mb-4"},O={class:"col-2 mb-4"};function A(o,e,B,F,t,M){const a=d("com-score-card");return c(),r("div",v,[s("div",u,[(c(!0),r(m,null,p(t.mills,i=>(c(),r("div",{class:"col-1 d-grid gap-1 p-1",key:i.id},[s("button",{onClick:P=>t.params.mill_id=i.id,class:n(["btn txt-sm btn-primary btn-block",{active:t.params.mill_id==i.id}]),disabled:i.id!==12},_(i.mill_name),11,y)]))),128)),s("div",f,[s("button",{onClick:e[0]||(e[0]=i=>t.params.type="today"),class:n(["btn txt-sm btn-primary btn-block",{active:t.params.type=="today"}])},"TODAY",2)]),s("div",g,[s("button",{onClick:e[1]||(e[1]=i=>t.params.type="month"),class:n(["btn txt-sm btn-primary btn-block",{active:t.params.type=="month"}])},"MTD",2)]),s("div",S,[s("button",{onClick:e[2]||(e[2]=i=>t.params.type="year"),class:n(["btn txt-sm btn-primary btn-block",{active:t.params.type=="year"}])},"YTD",2)])]),s("div",E,[s("div",T,[l(a,{name:"ST. LOADING RAMP",score:null,disabled:""})]),s("div",I,[l(a,{name:"ST. STERILLIZER",score:null,disabled:""})]),s("div",R,[l(a,{name:"ST. TRESHER",score:null,disabled:""})]),s("div",k,[l(a,{name:"ST. PRESS",score:t.values[4]},null,8,["score"])]),s("div",C,[l(a,{name:"ST. NUT KERNEL",score:t.values[5]},null,8,["score"])]),s("div",D,[l(a,{name:"ST. KLARIFIKASI",score:t.values[3]},null,8,["score"])]),s("div",L,[l(a,{name:"ST. OIL RECOVERY",score:null,disabled:""})]),s("div",w,[l(a,{name:"GENSET",score:null,disabled:""})]),s("div",x,[l(a,{name:"BOILER",score:null,disabled:""})]),s("div",N,[l(a,{name:"WTP",score:null,disabled:""})]),s("div",O,[l(a,{name:"FOSNIR SCORE",score:t.fosnir},null,8,["score"])])])])}const Y=h(b,[["render",A],["__scopeId","data-v-f0a72c18"]]);export{Y as default};

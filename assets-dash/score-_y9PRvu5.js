import _ from"./ScoreCard-9x-s3XjD.js";import v from"./News-L89XOGB2.js";import{r as n,o as i,c,a as t,d as y,x as f,b as r,v as g,F as b,E as w}from"./vendor-k6VCZUst.js";import{_ as V}from"./_plugin-vue_export-helper-x3n3nnut.js";const S={components:{ScoreCard:_,News:v},data(){return{scores:[],params:{group_id:4,parameter:"owm",date:new Date().toISOString().slice(0,10),type:"today"},types:[{type:"today",value:"Today"},{type:"mtd",value:"Month To Day"},{type:"ytd",value:"Year To Day"}],parameters:[{label:"Oil/WM",value:"owm"},{label:"VM",value:"vm"},{label:"Oil/DM",value:"odm"},{label:"NOS",value:"nos"}],options:[{id:77,name:"Total Performance"},{id:88,name:"Performance Oil Losses"}]}},mounted(){this.getStations(),this.reload()},methods:{async getScoreRank(){if(this.params.type=="today"){let a=await this.$http.get("/fossnir/score",{params:this.params}).then(e=>e.data.data);this.$root.scores=a,this.scores=a}else{let a=await this.$http.get("/fossnir/score-type",{params:this.params}).then(e=>e.data.data);this.$root.scores=a,this.scores=a}},async getScore(){if(this.params.type=="today"){let a=await this.$http.get("/fossnir/total-score",{params:this.params}).then(e=>e.data.data);this.$root.score=a.score}else{let a=await this.$http.get("/fossnir/total-score-type",{params:this.params}).then(e=>e.data.data);this.$root.score=a.score}},async getStations(){(await this.$http.get("/fossnir/stations").then(e=>e.data.data)).forEach(e=>this.options.push({id:e.id,name:"Oil Losses in "+e.name})),this.options.push({id:99,name:"Performance Parameter Process"})},getStationName(a){let e=this.options.findIndex(m=>m.id==a);return this.options[e]?this.options[e].name:null},reload(){this.getScore(),this.getScoreRank()}}},k={class:"mt-3"},D={class:"row"},O={class:"col-3"},P={class:"mb-3"},N=t("label",{class:"form-label"},"Perfomance",-1),x={class:"col-3"},B={class:"mb-3"},M=t("label",{class:"form-label"},"Date",-1),T={class:"col-3"},U={class:"mb-3"},C=t("label",{class:"form-label"},"Daily",-1),E={class:"col-3"},L={class:"mb-3"},F=t("label",{class:"form-label"},"Parameters",-1),I={class:"row"},R={class:"col"},W={class:"info-station"},Y={class:"row g-2"},j={class:"row",style:{"margin-top":"1rem"}},q={class:"col"};function z(a,e,m,A,o,l){const d=n("v-select"),p=n("VueDatePicker"),u=n("score-card"),h=n("news");return i(),c("div",k,[t("div",D,[t("div",O,[t("div",P,[N,o.options.length>2?(i(),y(d,{key:0,label:"name",reduce:s=>s.id,class:"w-100",modelValue:o.params.group_id,"onUpdate:modelValue":e[0]||(e[0]=s=>o.params.group_id=s),options:o.options,"onOption:selected":e[1]||(e[1]=s=>l.reload()),selectable:s=>![77,88,99].includes(s.id)},null,8,["reduce","modelValue","options","selectable"])):f("",!0)])]),t("div",x,[t("div",B,[M,r(p,{modelValue:o.params.date,"onUpdate:modelValue":[e[2]||(e[2]=s=>o.params.date=s),e[3]||(e[3]=s=>l.reload())],"enable-time-picker":!1,"auto-apply":""},null,8,["modelValue"])])]),t("div",T,[t("div",U,[C,r(d,{class:"w-100",label:"value",reduce:s=>s.type,options:o.types,modelValue:o.params.type,"onUpdate:modelValue":e[4]||(e[4]=s=>o.params.type=s),"onOption:selected":e[5]||(e[5]=s=>l.reload())},null,8,["reduce","options","modelValue"])])]),t("div",E,[t("div",L,[F,r(d,{class:"w-100",options:o.parameters,modelValue:o.params.parameter,"onUpdate:modelValue":e[6]||(e[6]=s=>o.params.parameter=s),reduce:s=>s.value,"onOption:selected":e[7]||(e[7]=s=>l.reload())},null,8,["options","modelValue","reduce"])])])]),t("div",I,[t("div",R,[t("div",W,[t("span",null,[t("h3",null,g(l.getStationName(o.params.group_id)),1)])])])]),t("div",Y,[(i(!0),c(b,null,w(o.scores,s=>(i(),c("div",{class:"col-2",key:s.id},[r(u,{name:s.mill,score:s.score},null,8,["name","score"])]))),128))]),t("div",j,[t("div",q,[r(h,{params:o.params},null,8,["params"])])])])}const Q=V(S,[["render",z]]);export{Q as default};

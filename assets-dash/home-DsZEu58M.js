import v from"./LossesCard-BOUgeP4a.js";import{r as c,o as l,c as i,a as e,b as d,v as g,x as m,F as b,E as f,A as V,B as S}from"./vendor-k6VCZUst.js";import{_ as w}from"./_plugin-vue_export-helper-x3n3nnut.js";const D={components:{LossesCard:v},data(){return{loading:!1,parameter:{label:"Oil/WM",value:"owm"},parameters:[{label:"Oil/WM",value:"owm"},{label:"VM",value:"vm"},{label:"Oil/DM",value:"odm"},{label:"NOS",value:"nos"}],params:{parameter:"owm",date:new Date().toISOString().slice(0,10),group_id:4},stations:[],rows:[]}},mounted(){this.getStations(),this.loadData()},methods:{changeDate(s){this.params.date=s.toISOString().slice(0,10),this.$root.date=s.toISOString().slice(0,10),this.loadData()},selected(s){this.parameter=s,this.loadData()},async getStations(){this.stations=await this.$http.get("/fossnir/stations").then(s=>s.data.data)},async loadData(){this.loading=!0,this.rows=await this.$http.get("/fossnir/daily",{params:this.params}).then(s=>s.data.data),this.loading=!1},getStationName(s){let o=this.stations.findIndex(p=>p.id==s);return this.stations[o]}}},r=s=>(V("data-v-91242365"),s=s(),S(),s),y={class:"mt-3"},O={class:"row"},I={class:"col-4"},k={class:"mb-3"},x=r(()=>e("label",{class:"form-label"},"OIL IN",-1)),N={class:"col-4"},B={class:"mb-3"},L=r(()=>e("label",{class:"form-label"},"Date",-1)),M={class:"col-4"},U={class:"mb-3"},C=r(()=>e("label",{class:"form-label"},"Parameters",-1)),P={class:"row"},E={class:"col"},F={class:"info-station"},W={key:0},A={class:"row"},H={key:1,class:"col-12",style:{height:"400px"}},j=r(()=>e("div",{class:"text-center",style:{"margin-top":"200px"}},[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")])],-1)),q=[j];function z(s,o,p,G,t,n){const _=c("v-select"),u=c("VueDatePicker"),h=c("losses-card");return l(),i("div",y,[e("div",O,[e("div",I,[e("div",k,[x,d(_,{label:"name",class:"w-100",modelValue:t.params.group_id,"onUpdate:modelValue":o[0]||(o[0]=a=>t.params.group_id=a),options:t.stations,reduce:a=>a.id,"onOption:selected":o[1]||(o[1]=a=>n.loadData())},null,8,["modelValue","options","reduce"])])]),e("div",N,[e("div",B,[L,d(u,{modelValue:t.params.date,"onUpdate:modelValue":[o[2]||(o[2]=a=>t.params.date=a),n.changeDate],"enable-time-picker":!1,"auto-apply":""},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",M,[e("div",U,[C,d(_,{class:"w-100",label:"label",options:t.parameters,modelValue:t.params.parameter,"onUpdate:modelValue":o[3]||(o[3]=a=>t.params.parameter=a),reduce:a=>a.value,"onOption:selected":n.selected},null,8,["options","modelValue","reduce","onOption:selected"])])])]),e("div",P,[e("div",E,[e("div",F,[t.stations.length>0?(l(),i("span",W,[e("h3",null,g(n.getStationName(t.params.group_id).name),1)])):m("",!0)])])]),e("div",A,[t.loading?m("",!0):(l(!0),i(b,{key:0},f(t.rows,(a,J)=>(l(),i("div",{class:"col-2",key:a.id},[d(h,{losses:a},null,8,["losses"])]))),128)),t.loading?(l(),i("div",H,q)):m("",!0)])])}const T=w(D,[["render",z],["__scopeId","data-v-91242365"]]);export{T as default};

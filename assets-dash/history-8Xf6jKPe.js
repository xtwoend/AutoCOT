import{o as d,g as n,h as t,j as _,F as c,A as m,t as r,u as h,n as v,r as b,y as f,z as V}from"./vendor-4tTaYVFU.js";import{_ as D}from"./_plugin-vue_export-helper-x3n3nnut.js";const x={data(){return{mills:[],max:15,date:null,limit:4,params:{parameter:"Oil/WM",date:null},rows:[]}},mounted(){this.getMills()},methods:{async getMills(){this.mills=await this.$http.get("/fossnir/mills").then(s=>s.data.data)},changeDate(s){this.params.date=s.toISOString().slice(0,10),this.loadData()},selected(s){this.params.parameter=s,this.loadData()},async loadData(){if(this.params.lenght<2)return;let s=await this.$http.get("/fossnir/daily",{params:this.params}).then(a=>a.data);this.rows=s.data,this.max=s.meta.data_max},threshold(s,a){return s.std_value>=a}}},i=s=>(f("data-v-ab61e66a"),s=s(),V(),s),w={class:"mt-3"},k={class:"row"},M={class:"col-4"},S={class:"mb-3"},O=i(()=>t("label",{class:"form-label"},"Mill",-1)),I={class:"col-4"},F={class:"mb-3"},N=i(()=>t("label",{class:"form-label"},"Date",-1)),T={class:"col-4"},P={class:"mb-3"},U=i(()=>t("label",{class:"form-label"},"Parameters",-1)),A={class:"overflow-scroll body-scroll"},B={class:"row"},C={class:"col"},E={class:"table table-sm history"},z=i(()=>t("th",null,"No",-1)),L=i(()=>t("th",{class:"station"},"STATION",-1)),W=i(()=>t("th",null,"STD",-1)),j=["colspan"],H=i(()=>t("th",null,"Today",-1)),q={rowspan:"2"},G={rowspan:"2",class:"txt-left"},J={rowspan:"2"};function K(s,a,Q,R,l,u){const p=b("v-select"),g=b("VueDatePicker");return d(),n("div",w,[t("div",k,[t("div",M,[t("div",S,[O,_(p,{label:"mill_name",class:"w-100",modelValue:l.params.mill_id,"onUpdate:modelValue":a[0]||(a[0]=e=>l.params.mill_id=e),reduce:e=>e.id,options:l.mills,"onOption:selected":a[1]||(a[1]=e=>u.loadData())},null,8,["modelValue","reduce","options"])])]),t("div",I,[t("div",F,[N,_(g,{modelValue:l.date,"onUpdate:modelValue":[a[2]||(a[2]=e=>l.date=e),u.changeDate],"enable-time-picker":!1,"auto-apply":""},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",T,[t("div",P,[U,_(p,{class:"w-100",options:["Oil/WM","VM","Oil/DM","NOS"],modelValue:l.params.parameter,"onUpdate:modelValue":a[3]||(a[3]=e=>l.params.parameter=e),"onOption:selected":a[4]||(a[4]=e=>u.loadData())},null,8,["modelValue"])])])]),t("div",A,[t("div",B,[t("div",C,[t("table",E,[t("thead",null,[t("tr",null,[z,L,W,t("th",{colspan:l.max,class:"c-val"},"  TIME SAMPLE",8,j),H])]),t("tbody",null,[(d(!0),n(c,null,m(l.rows,(e,y)=>(d(),n(c,null,[t("tr",null,[t("td",q,r(y+1),1),t("td",G,r(e.product_name),1),t("td",J,r(e.std_value?e.std_value.toFixed(2):4 .toFixed(2))+"%",1),(d(!0),n(c,null,m(e.data,(o,X)=>(d(),n("td",{class:"c-val t-col",key:o.id},r(("0"+new Date(o.sample_date).getHours()).substr(-2))+":"+r(("0"+new Date(o.sample_date).getMinutes()).substr(-2)),1))),128)),e.data.length>0?(d(!0),n(c,{key:0},m(l.max-e.data.length,o=>(d(),n("td",{class:"c-val t-col",key:o}," "))),128)):h("",!0),t("td",null,r(e.data.length),1)]),t("tr",null,[(d(!0),n(c,null,m(e.data,o=>(d(),n("td",{class:v(["c-val t-val",{red:o.result>=e.std_value}]),key:o.id},r(o.result.toFixed(2)),3))),128)),e.data.length>0?(d(!0),n(c,{key:0},m(l.max-e.data.length,o=>(d(),n("td",{class:"c-val",key:o}," "))),128)):h("",!0),t("td",{class:v(["c-val t-val",{red:e.avg>=e.std_value}])},r(e.avg.toFixed(2)),3)])],64))),256))])])])])])])}const $=D(x,[["render",K],["__scopeId","data-v-ab61e66a"]]);export{$ as default};

import h from"./LossesCard-ave5fO7C.js";import{r as c,o as l,c as i,a as e,b as n,F as v,E as g,u as p,y as b,z as f}from"./vendor-_TY6xysw.js";import{_ as V}from"./_plugin-vue_export-helper-x3n3nnut.js";const w={components:{LossesCard:h},data(){return{loading:!1,parameter:{label:"Oil/WM",value:"owm"},parameters:[{label:"Oil/WM",value:"owm"},{label:"VM",value:"vm"},{label:"Oil/DM",value:"odm"},{label:"NOS",value:"nos"}],params:{parameter:"owm",date:new Date().toISOString().slice(0,10),group_id:4},stations:[],rows:[]}},mounted(){this.getStations(),this.loadData()},methods:{changeDate(s){this.params.date=s.toISOString().slice(0,10),this.$root.date=s.toISOString().slice(0,10),this.loadData()},selected(s){this.parameter=s,this.loadData()},async getStations(){this.stations=await this.$http.get("/fossnir/stations").then(s=>s.data.data)},async loadData(){this.loading=!0,this.rows=await this.$http.get("/fossnir/daily",{params:this.params}).then(s=>s.data.data),this.loading=!1}}},d=s=>(b("data-v-699029c1"),s=s(),f(),s),D={class:"mt-3"},S={class:"row"},y={class:"col-4"},O={class:"mb-3"},I=d(()=>e("label",{class:"form-label"},"OIL IN",-1)),k={class:"col-4"},x={class:"mb-3"},N=d(()=>e("label",{class:"form-label"},"Date",-1)),L={class:"col-4"},M={class:"mb-3"},U=d(()=>e("label",{class:"form-label"},"Parameters",-1)),B={class:"row"},C={key:1,class:"col-12",style:{height:"400px"}},P=d(()=>e("div",{class:"text-center",style:{"margin-top":"200px"}},[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")])],-1)),E=[P];function F(s,o,W,z,a,r){const m=c("v-select"),u=c("VueDatePicker"),_=c("losses-card");return l(),i("div",D,[e("div",S,[e("div",y,[e("div",O,[I,n(m,{label:"name",class:"w-100",modelValue:a.params.group_id,"onUpdate:modelValue":o[0]||(o[0]=t=>a.params.group_id=t),options:a.stations,reduce:t=>t.id,"onOption:selected":o[1]||(o[1]=t=>r.loadData())},null,8,["modelValue","options","reduce"])])]),e("div",k,[e("div",x,[N,n(u,{modelValue:a.params.date,"onUpdate:modelValue":[o[2]||(o[2]=t=>a.params.date=t),r.changeDate],"enable-time-picker":!1,"auto-apply":""},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",L,[e("div",M,[U,n(m,{class:"w-100",label:"label",options:a.parameters,modelValue:a.params.parameter,"onUpdate:modelValue":o[3]||(o[3]=t=>a.params.parameter=t),reduce:t=>t.value,"onOption:selected":r.selected},null,8,["options","modelValue","reduce","onOption:selected"])])])]),e("div",B,[a.loading?p("",!0):(l(!0),i(v,{key:0},g(a.rows,(t,H)=>(l(),i("div",{class:"col-2",key:t.id},[n(_,{losses:t},null,8,["losses"])]))),128)),a.loading?(l(),i("div",C,E)):p("",!0)])])}const G=V(w,[["render",F],["__scopeId","data-v-699029c1"]]);export{G as default};

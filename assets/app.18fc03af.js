import{a as _,v,b as e,d as h,D as u,s as g,h as y,c as w,H as b}from"./vendor.5a24ffb3.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();window.axios=_;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const m=(a,o)=>{const r=a.__vccOpts||a;for(const[i,t]of o)r[i]=t;return r},V={props:{options:Array,default:{type:Array,default:()=>[]}},data(){return{show:!1,selected:this.default}},methods:{showDropdown(){this.show=!this.show},hide(){this.show=!1}},watch:{selected(a){this.$emit("checked",a)}},directives:{clickOutside:v.directive}},D={class:"dd"},k={id:"list1",class:"dropdown-check-list",tabindex:"100"},E={key:0,class:"items"},x=["id","value"],N=["for"];function L(a,o,r,i,t,s){const d=e.resolveDirective("click-outside");return e.withDirectives((e.openBlock(),e.createElementBlock("div",D,[e.createElementVNode("div",k,[e.createElementVNode("span",{class:"anchor form-control",onClick:o[0]||(o[0]=(...c)=>s.showDropdown&&s.showDropdown(...c))},"Please Select One"),t.show?(e.openBlock(),e.createElementBlock("ul",E,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.options,(c,n)=>(e.openBlock(),e.createElementBlock("li",{key:n},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:n,value:c,"onUpdate:modelValue":o[1]||(o[1]=l=>t.selected=l)},null,8,x),[[e.vModelCheckbox,t.selected]]),e.createElementVNode("label",{for:n},e.toDisplayString(c.text),9,N)]))),128))])):e.createCommentVNode("",!0)])])),[[d,s.hide]])}const S=m(V,[["render",L]]);const A=["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"];const C={props:{url:String,title:String,defaultData:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]}},components:{Datepicker:h,Dropdown:S},data(){return{items:this.defaultData,params:{from:new Date,to:new Date,interval:3600,limit:1e3,select:[]},data:[],realtime:{},fetchReady:!1,colors:A,options:{chart:{type:"line",zoomType:"x",height:600},time:{useUTC:!0},title:{text:""},xAxis:{type:"datetime",title:{text:""}},yAxis:[],tooltip:{crosshairs:!0,shared:!0},legend:{enabled:!0},series:[]}}},mounted(){this.fetchData()},methods:{interval(a){this.params.interval=a,this.fetchData()},selected(a){this.items=a,this.fetchData()},async fetchData(){this.$refs.chart.chart.showLoading();let a=[],o=[],r=[];this.items.forEach((i,t)=>{let s=this.colors[t];o.push({title:{text:i.text,style:{color:s}},lineColor:s,labels:{style:{color:s}},opposite:!0}),a.push({id:i.data,yAxis:t,type:i.type?i.type:"spline",name:i.text,color:s,lineWidth:1,data:[]}),r.push(i.data)}),this.options.series=a,this.options.yAxis=o,this.params.select=r,await axios.get(this.url,{params:this.params}).then(i=>{i.data.data.forEach(s=>{let d=s.unix_time;for(const c in s){let n=this.options.series.findIndex(l=>l.id===c);n>=0&&this.options.series[n].data.push([d,s[c]])}})}),this.$refs.chart.chart.hideLoading()}}},P={class:"report"},B={class:"table-wrapper"},O={class:"toolbox"},T={class:"date-selected"},U=e.createStaticVNode('<option value="10">10s</option><option value="60">1m</option><option value="900">15m</option><option value="1800">30m</option><option value="3600">1h</option><option value="7200">2h</option><option value="10800">3h</option><option value="18000">5h</option><option value="36000">10h</option><option value="86400">24h</option>',10),I=[U],$={class:"chart"};function M(a,o,r,i,t,s){const d=e.resolveComponent("dropdown"),c=e.resolveComponent("datepicker"),n=e.resolveComponent("highcharts");return e.openBlock(),e.createElementBlock("div",P,[e.createElementVNode("div",B,[e.createElementVNode("div",O,[e.createVNode(d,{options:r.columns,onChecked:s.selected,default:r.defaultData},null,8,["options","onChecked","default"]),e.createElementVNode("div",T,[e.createVNode(c,{class:"mr-2",type:"datetime",modelValue:t.params.from,"onUpdate:modelValue":o[0]||(o[0]=l=>t.params.from=l),name:"from",textInput:"",autoApply:"",closeOnAutoApply:!1,placeholder:"from"},null,8,["modelValue"]),e.createVNode(c,{class:"mr-2",type:"datetime",modelValue:t.params.to,"onUpdate:modelValue":o[1]||(o[1]=l=>t.params.to=l),name:"to",textInput:"",autoApply:"",closeOnAutoApply:!1,placeholder:"to"},null,8,["modelValue"]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":o[2]||(o[2]=l=>t.params.interval=l),class:"form-control wd-80 mr-2"},I,512),[[e.vModelSelect,t.params.interval]]),e.createElementVNode("button",{class:"btn btn-primary",onClick:o[3]||(o[3]=(...l)=>s.fetchData&&s.fetchData(...l))},"Show")])]),e.createElementVNode("div",$,[e.createVNode(n,{ref:"chart",class:"hc","constructor-type":"stockChart",options:t.options},null,8,["options"])])])])}const R=m(C,[["render",M]]);const z={props:{url:String,export:String,headers:Array,title:String},components:{Vue3EasyDataTable:u,Datepicker:h},data(){return{options:{page:1,rowsPerPage:25},params:{from:{month:new Date().getMonth().toString(),year:new Date().getFullYear().toString()},interval:60},dataLength:0,isLoading:!1,items:[]}},mounted(){this.fetchData()},watch:{options:{handler(a){this.fetchData()},deep:!0}},methods:{async fetchData(){let a=Object.assign(this.params,this.options);this.isLoading=!0,this.items=[];let o=await axios.get(this.url,{params:a}).then(r=>r.data);this.items=o.data,this.dataLength=o.meta.total,this.options.page=o.meta.current_page,this.options.rowsPerPage=o.meta.per_page,this.isLoading=!1},download(){const a=new URLSearchParams({interval:this.params.interval,month:parseInt(this.params.from.month)+1,year:parseInt(this.params.from.year)});window.open(this.export+"?"+a,"_blank")}}},q={class:"report"},F={class:"table-wrapper"},H={class:"toolbox"},W={class:"title"},X={class:"date-selected"},j=e.createStaticVNode('<option value="10">10s</option><option value="60">1m</option><option value="900">15m</option><option value="1800">30m</option><option value="3600">1h</option><option value="7200">2h</option><option value="10800">3h</option><option value="18000">5h</option><option value="36000">10h</option><option value="86400">24h</option>',10),K=[j],Y={class:"table-content"};function G(a,o,r,i,t,s){const d=e.resolveComponent("datepicker"),c=e.resolveComponent("Vue3EasyDataTable");return e.openBlock(),e.createElementBlock("div",q,[e.createElementVNode("div",F,[e.createElementVNode("div",H,[e.createElementVNode("h2",W,e.toDisplayString(r.title),1),e.createElementVNode("div",X,[e.createVNode(d,{class:"mr-2",monthPicker:"",modelValue:t.params.from,"onUpdate:modelValue":o[0]||(o[0]=n=>t.params.from=n),name:"from",textInput:"",autoApply:"",closeOnAutoApply:!1,placeholder:"from"},null,8,["modelValue"]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":o[1]||(o[1]=n=>t.params.interval=n),class:"form-control wd-80 mr-2"},K,512),[[e.vModelSelect,t.params.interval]]),e.createElementVNode("button",{class:"btn btn-primary mr-2",onClick:o[2]||(o[2]=(...n)=>s.fetchData&&s.fetchData(...n))},"Show"),e.createElementVNode("button",{class:"btn btn-success",onClick:o[3]||(o[3]=(...n)=>s.download&&s.download(...n))},"Download")])]),e.createElementVNode("div",Y,[e.createVNode(c,{"show-index":"","buttons-pagination":"","table-class-name":"customize-table","server-options":t.options,"onUpdate:server-options":o[4]||(o[4]=n=>t.options=n),"server-items-length":t.dataLength,loading:t.isLoading,headers:r.headers,items:t.items,ref:"vtable"},e.createSlots({_:2},[e.renderList(a.$slots,(n,l)=>({name:l,fn:e.withCtx(f=>[e.renderSlot(a.$slots,l,e.normalizeProps(e.guardReactiveProps(f||{})))])}))]),1032,["server-options","server-items-length","loading","headers","items"])])])])}const J=m(z,[["render",G]]);const Q={props:{url:String,headers:Array,title:String},components:{Vue3EasyDataTable:u},data(){return{options:{page:1,rowsPerPage:25},dataLength:0,isLoading:!1,items:[]}},mounted(){this.fetchData()},watch:{options:{handler(a){this.fetchData()},deep:!0}},methods:{async fetchData(){this.isLoading=!0,this.items=[];let a=await axios.get(this.url,{params:this.options}).then(o=>o.data);this.items=a.data,this.dataLength=a.meta.total,this.options.page=a.meta.current_page,this.options.rowsPerPage=a.meta.per_page,this.isLoading=!1},create(){}}},Z={class:"report"},ee={class:"table-wrapper"},te={class:"toolbox"},oe={class:"title"},se=e.createElementVNode("div",{class:"date-selected"},null,-1),ae={class:"table-content"};function ne(a,o,r,i,t,s){const d=e.resolveComponent("Vue3EasyDataTable");return e.openBlock(),e.createElementBlock("div",Z,[e.createElementVNode("div",ee,[e.createElementVNode("div",te,[e.createElementVNode("h2",oe,e.toDisplayString(r.title),1),se]),e.createElementVNode("div",ae,[e.createVNode(d,{"show-index":"","buttons-pagination":"","table-class-name":"customize-table","server-options":t.options,"onUpdate:server-options":o[0]||(o[0]=c=>t.options=c),"server-items-length":t.dataLength,loading:t.isLoading,headers:r.headers,items:t.items,ref:"vtable"},e.createSlots({_:2},[e.renderList(a.$slots,(c,n)=>({name:n,fn:e.withCtx(l=>[e.renderSlot(a.$slots,n,e.normalizeProps(e.guardReactiveProps(l||{})))])}))]),1032,["server-options","server-items-length","loading","headers","items"])])])])}const re=m(Q,[["render",ne]]);g(y);const p=w({mounted(){}});p.use(b);p.component("trend-view",R);p.component("log-table",J);p.component("v-table",re);p.mount("#app");
